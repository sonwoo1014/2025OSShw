<!DOCTYPE html>
<html lang="ko">
<head>
  <title>edit</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="my.css">
</head>
<body>

<div class="container">
  <h2>수정 페이지</h2>
  <form onsubmit="return validate_confirm()">
    <div class="form-group">
      <label for="book_name">도서명</label>
      <input type="text" class="form-control" id="book_name" name="book_name">
    </div>

    <div class="form-group">
      <label for="author">저자</label>
      <input type="text" class="form-control" id="author" name="author">
    </div>

    <div class="form-group">
      <label for="publisher">출판사</label>
      <input type="text" class="form-control" id="publisher" name="publisher">
    </div>

    <div class="form-group">
      <label for="price">가격</label>
      <input type="text" class="form-control" id="price" name="price">
    </div>
    
    <button class="btn btn-danger navbar-btn" style="background-color: #222; border-color: white;">확인</button>
    <a href="index.html" class="btn btn-danger navbar-btn" style="background-color: #222; border-color: white;">취소</a>
  </form>
</div>

<script>
    
    window.onload = function() {
        
        const urlParams = new URLSearchParams(window.location.search);

        const title = urlParams.get('title');
        const author = urlParams.get('author');
        const publisher = urlParams.get('publisher');
        const price = urlParams.get('price');

        document.getElementById('book_name').value = title;
        document.getElementById('author').value = author;
        document.getElementById('publisher').value = publisher;
        document.getElementById('price').value = price;
    };

    function validate_confirm() {
        let book_name = document.getElementById('book_name').value.trim();
        let author = document.getElementById ("author").value.trim();
        let publisher = document.getElementById ("publisher").value.trim();
        let price = document.getElementById ("price").value.trim();
        if (book_name === "") {
            alert("도서명을 입력해주세요.");
            return false;
        }
        if (author === "") {
            alert("저자를 입력해주세요.");
            return false;
        }
        if (publisher === "") {
            alert("출판사를 입력해주세요.");
            return false;
        }
        if (price === "") {
            alert("가격을 입력해주세요.");
            return false;
        }

        return confirm("게시물을 수정할까요?");
    }
</script>
</body>
</html>